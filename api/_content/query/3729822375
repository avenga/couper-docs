[{"_path":"/configuration/block/saml","_draft":false,"_partial":false,"_empty":false,"title":"SAML","description":"The saml block lets you configure the saml_sso_url() function and an access\ncontrol for a SAML Assertion Consumer Service (ACS) endpoint.\nLike all Access Control types, the saml block is defined in\nthe Definitions Block and can be referenced in all configuration blocks by its\nrequired label.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"saml"},"children":[{"type":"text","value":"SAML"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]},{"type":"text","value":" block lets you configure the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml_sso_url()"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"#functions"},"children":[{"type":"text","value":"function"}]},{"type":"text","value":" and an access\ncontrol for a SAML Assertion Consumer Service (ACS) endpoint.\nLike all "},{"type":"element","tag":"a","props":{"href":"#access-control"},"children":[{"type":"text","value":"Access Control"}]},{"type":"text","value":" types, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]},{"type":"text","value":" block is defined in\nthe "},{"type":"element","tag":"a","props":{"href":"#definitions-block"},"children":[{"type":"text","value":"Definitions Block"}]},{"type":"text","value":" and can be referenced in all configuration blocks by its\nrequired "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"label"}]},{"type":"text","value":"."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"#definitions-block"},"children":[{"type":"text","value":"Definitions Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"⚠ required"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"#error-handler-block"},"children":[{"type":"text","value":"Error Handler Block"}]}]}]}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Attribute(s)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Characteristic(s)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idp_metadata_file"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"File reference to the Identity Provider metadata XML file."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"⚠ required"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sp_acs_url"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"The URL of the Service Provider's ACS endpoint."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"⚠ required. Relative URL references are resolved against the origin of the current request URL. The origin can be changed with the "},{"type":"element","tag":"a","props":{"href":"#settings-block"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"accept_forwarded_url"}]}]},{"type":"text","value":" attribute if Couper is running behind a proxy."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sp_entity_id"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"The Service Provider's entity ID."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"⚠ required"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array_attributes"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"tuple (string)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[]"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A list of assertion attributes that may have several values."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Results in at least an empty array in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.context.<label>.attributes.<name>"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array_attributes = [\"memberOf\"]"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"custom_log_fields"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"object"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Defines log fields for "},{"type":"element","tag":"a","props":{"href":"LOGS.md#custom-logging"},"children":[{"type":"text","value":"Custom Logging"}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"⚠ Inherited by nested blocks."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some information from the assertion consumed at the ACS endpoint is provided in the context at "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.context.<label>"}]},{"type":"text","value":":"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NameID"}]},{"type":"text","value":" of the assertion's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Subject"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.context.<label>.sub"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the session expiry date "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SessionNotOnOrAfter"}]},{"type":"text","value":" (as UNIX timestamp: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.context.<label>.exp"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"the attributes ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.context.<label>.attributes.<name>"}]},{"type":"text","value":")"}]}]}]},"_type":"markdown","_id":"content:2.configuration:4.block:saml.md","_source":"content","_file":"2.configuration/4.block/saml.md","_extension":"md"},{"_path":"/configuration/block/settings","_draft":false,"_partial":false,"_empty":false,"title":"Settings","description":"The settings block lets you configure the more basic and global behavior of your\ngateway instance.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"settings"},"children":[{"type":"text","value":"Settings"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"settings"}]},{"type":"text","value":" block lets you configure the more basic and global behavior of your\ngateway instance."}]},{"type":"element","tag":"h2","props":{"id":"access-control"},"children":[{"type":"text","value":"Access Control"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The configuration of access control is twofold in Couper: You define the particular\ntype (such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":") in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definitions"}]},{"type":"text","value":", each with a distinct label (must not be one of the reserved names: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_granted_permissions"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_required_permission"}]},{"type":"text","value":").\nAnywhere in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" block those labels can be used in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":"\nlist to protect that block. ⚠ access rights are inherited by nested blocks.\nYou can also disable "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":" for blocks. By typing "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"disable_access_control = [\"bar\"]"}]},{"type":"text","value":",\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":" type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"bar"}]},{"type":"text","value":" will be disabled for the corresponding block context."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All access controls have an option to handle related errors. Please refer to "},{"type":"element","tag":"a","props":{"href":"ERRORS.md"},"children":[{"type":"text","value":"Errors"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"health-check"},"children":[{"type":"text","value":"Health-Check"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The health check will answer a status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"200 OK"}]},{"type":"text","value":" on every port with the configured\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"health_path"}]},{"type":"text","value":". As soon as the gateway instance will receive a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SIGINT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SIGTERM"}]},{"type":"text","value":"\nthe check will return a status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"500 StatusInternalServerError"}]},{"type":"text","value":". A shutdown delay\nof "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"5s"}]},{"type":"text","value":" for example allows the server to finish all running requests and gives a load-balancer\ntime to pick another gateway instance. After this delay the server goes into\nshutdown mode with a deadline of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"5s"}]},{"type":"text","value":" and no new requests will be accepted.\nThe shutdown timings defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" which means no delaying with development setups.\nBoth durations can be configured via environment variable. Please refer to the "},{"type":"element","tag":"a","props":{"href":"../DOCKER.md"},"children":[{"type":"text","value":"docker document"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"error-handler-block"},"children":[{"type":"text","value":"Error Handler Block"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block lets you configure the handling of errors thrown in components configured by the parent blocks."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The error handler label specifies which "},{"type":"element","tag":"a","props":{"href":"ERRORS.md#error-types"},"children":[{"type":"text","value":"error type"}]},{"type":"text","value":" should be handled. Multiple labels are allowed. The label can be omitted to catch all relevant errors. This has the same behavior as the error type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":", that catches all errors explicitly."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Concerning child blocks and attributes, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block is similar to an "},{"type":"element","tag":"a","props":{"href":"#endpoint-block"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":"."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"#api-block"},"children":[{"type":"text","value":"API Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#endpoint-block"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#basic-auth-block"},"children":[{"type":"text","value":"Basic Auth Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#jwt-block"},"children":[{"type":"text","value":"JWT Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#oauth2-ac-block-beta"},"children":[{"type":"text","value":"OAuth2 AC Block (Beta)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#oidc-block"},"children":[{"type":"text","value":"OIDC Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#saml-block"},"children":[{"type":"text","value":"SAML Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"optional"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"#proxy-block"},"children":[{"type":"text","value":"Proxy Block(s)"}]},{"type":"text","value":",  "},{"type":"element","tag":"a","props":{"href":"#request-block"},"children":[{"type":"text","value":"Request Block(s)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#response-block"},"children":[{"type":"text","value":"Response Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"#error-handler-block"},"children":[{"type":"text","value":"Error Handler Block(s)"}]}]}]}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Attribute(s)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Characteristic(s)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"custom_log_fields"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"object"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Defines log fields for "},{"type":"element","tag":"a","props":{"href":"LOGS.md#custom-logging"},"children":[{"type":"text","value":"Custom Logging"}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"⚠ Inherited by nested blocks."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"#modifiers"},"children":[{"type":"text","value":"Modifiers"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Examples:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/blob/master/error-handling-ba/README.md","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Error Handling for Access Controls"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Attribute(s)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Characteristic(s)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"accept_forwarded_url"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"tuple (string)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[]"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Which "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Forwarded-*"}]},{"type":"text","value":" request headers should be accepted to change the "},{"type":"element","tag":"a","props":{"href":"#request"},"children":[{"type":"text","value":"request variables"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"protocol"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"host"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"port"}]},{"type":"text","value":". Valid values are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"proto\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"host\""}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"port\""}]},{"type":"text","value":". The port in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Forwarded-Port"}]},{"type":"text","value":" takes precedence over a port in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Forwarded-Host"}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Affects relative url values for "},{"type":"element","tag":"a","props":{"href":"#saml-block"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sp_acs_url"}]}]},{"type":"text","value":" attribute and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"redirect_uri"}]},{"type":"text","value":" attribute within "},{"type":"element","tag":"a","props":{"href":"#beta-oauth2-block"},"children":[{"type":"text","value":"beta_oauth2"}]},{"type":"text","value":" & "},{"type":"element","tag":"a","props":{"href":"#oidc-block"},"children":[{"type":"text","value":"oidc"}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[\"proto\",\"host\",\"port\"]"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"default_port"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8080"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Port which will be used if not explicitly specified per host within the "},{"type":"element","tag":"a","props":{"href":"#server-block"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hosts"}]}]},{"type":"text","value":" list."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"health_path"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"/healthz\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Health path which is available for all configured server and ports."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https_dev_proxy"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"tuple (string)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[]"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"List of tls port mappings to define the tls listen port and the target one. A self-signed certificate will be generated on the fly based on given hostname."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Certificates will be hold in memory and are generated once."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[\"443:8080\", \"8443:8080\"]"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"log_format"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"common\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Switch for tab/field based colored view or JSON log lines. Valid values are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"common\""}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"json\""}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"log_level"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"info\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Set the log-level to one of: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"info\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"panic\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"fatal\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"error\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"warn\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"debug\""}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"trace\""}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"log_pretty"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Global option for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"json"}]},{"type":"text","value":" log format which pretty prints with basic key coloring."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"no_proxy_from_env"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Disables the connect hop to configured "},{"type":"element","tag":"a","props":{"href":"https://godoc.org/golang.org/x/net/http/httpproxy","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"proxy via environment"}]},{"type":"text","value":"."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request_id_accept_from_header"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Name of a client request HTTP header field that transports the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.id"}]},{"type":"text","value":" which Couper takes for logging and transport to the backend (if configured)."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-UID"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request_id_backend_header"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Couper-Request-ID"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Name of a HTTP header field which Couper uses to transport the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.id"}]},{"type":"text","value":" to the backend."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request_id_client_header"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Couper-Request-ID"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Name of a HTTP header field which Couper uses to transport the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.id"}]},{"type":"text","value":" to the client."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request_id_format"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"common\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Valid values are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"common\""}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"uuid4\""}]},{"type":"text","value":". If set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"uuid4\""}]},{"type":"text","value":" a rfc4122 uuid is used for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request.id"}]},{"type":"text","value":" and related log fields."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secure_cookies"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Valid values are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"strip\""}]},{"type":"text","value":". If set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"strip\""}]},{"type":"text","value":", the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Secure"}]},{"type":"text","value":" flag is removed from all "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" HTTP header fields."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"xfh"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Option to use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Forwarded-Host"}]},{"type":"text","value":" header as the request host."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_metrics"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Option to enable the Prometheus "},{"type":"element","tag":"a","props":{"href":"METRICS.md"},"children":[{"type":"text","value":"metrics"}]},{"type":"text","value":" exporter."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_metrics_port"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"9090"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Prometheus exporter listen port."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_service_name"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"couper\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"The service name which applies to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"service_name"}]},{"type":"text","value":" metric labels."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ca_file"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"\""}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Option for adding the given PEM encoded ca-certificate to the existing system certificate pool for all outgoing connections."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]}]}]}]},"_type":"markdown","_id":"content:2.configuration:4.block:settings.md","_source":"content","_file":"2.configuration/4.block/settings.md","_extension":"md"}]