(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{542:function(e,n,t){"use strict";t.r(n);var o,r=t(94),l=t.n(r),c=t(161),m=t(261),f=["components"],d={};function h(e){var n=e.components,t=Object(c.a)(e,f);return o("wrapper",l()([{},d,{},t,{attrs:{components:n,mdxType:"MDXLayout"}}]),[o("h1",["Configuration File"]),o("p",["The language for Couper's configuration file is ",o("a",l()([{attrs:{parentName:"p"}},{href:"https://github.com/hashicorp/hcl/tree/hcl2#information-model-and-syntax"}]),["HCL 2.0"]),", a configuration language by HashiCorp."]),o("p",[o("strong",{attrs:{parentName:"p"}},["⚠"," Couper's configuration reference can be found ",o("a",l()([{attrs:{parentName:"strong"}},{href:"./REFERENCE.md"}]),["here"]),"."])]),o("h2",["IDE Extension"]),o("p",["Couper provides its own IDE extension that adds Couper-specific highlighting and autocompletion to Couper's configuration file ",o("inlineCode",{attrs:{parentName:"p"}},["couper.hcl"])," in Visual Studio Code."]),o("p",["Get it from the ",o("a",l()([{attrs:{parentName:"p"}},{href:"https://marketplace.visualstudio.com/items?itemName=AvengaGermanyGmbH.couper"}]),["Visual Studio Market Place"])," or visit the ",o("a",l()([{attrs:{parentName:"p"}},{href:"https://github.com/avenga/couper-vscode"}]),["Extension repository"]),"."]),o("h2",["File Name"]),o("p",["The file-ending of your configuration file should be ",o("inlineCode",{attrs:{parentName:"p"}},[".hcl"])," to have syntax highlighting within your IDE."]),o("p",["The file name defaults to ",o("inlineCode",{attrs:{parentName:"p"}},["couper.hcl"])," in your working directory. This can be changed with the ",o("inlineCode",{attrs:{parentName:"p"}},["-f"])," command-line flag. With ",o("inlineCode",{attrs:{parentName:"p"}},["-f /opt/couper/my_conf.hcl"])," couper changes the working directory to ",o("inlineCode",{attrs:{parentName:"p"}},["/opt/couper"])," and loads ",o("inlineCode",{attrs:{parentName:"p"}},["my_conf.hcl"]),"."]),o("h2",["Basic File Structure"]),o("p",["Couper's configuration file consists of nested configuration blocks that configure\nthe gateway. There are a large number of options, but let's focus on the main structure first:"]),o("pre",[o("code",l()([{attrs:{parentName:"pre"}},{className:"language-hcl"}]),['server "my_project" {\n  files {\n    # ...\n  }\n\n  spa {\n    # ...\n  }\n\n  api {\n    access_control = ["foo"]\n    endpoint "/bar" {\n      proxy {\n        backend { }\n      }\n      request "sub-request" {\n        backend { }\n      }\n      response { }\n    }\n  }\n}\n\ndefinitions {\n  # ...\n}\n\nsettings {\n  # ...\n}\n\ndefaults {\n  # ...\n}\n'])]),o("ul",[o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["server"])," main configuration block(s)"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["files"])," configuration block for file serving"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["spa"])," configuration block for Web serving (SPA assets)"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["api"])," configuration block(s) that bundle(s) endpoints under a certain base path or ",o("inlineCode",{attrs:{parentName:"li"}},["access_control"])," list"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["access_control"])," attribute that sets access control for a block context"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["endpoint"])," configuration block for Couper's entry points"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["proxy"])," configuration block for a proxy request and response to an origin"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["backend"])," configuration block for connection to local/remote backend service(s)"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["request"])," configuration block for a manual request to an origin"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["backend"])," configuration block for connection to local/remote backend service(s)"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["response"])," configuration block for a manual client response"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["definitions"])," block for predefined configurations, that can be referenced"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["settings"])," block for server configuration which applies to the running instance"]),o("li",{attrs:{parentName:"ul"}},[o("inlineCode",{attrs:{parentName:"li"}},["defaults"])," block for default/fallback values"])]),o("blockquote",[o("p",{attrs:{parentName:"blockquote"}},["See also: ",o("a",l()([{attrs:{parentName:"p"}},{href:"REFERENCE.md"}]),["Configuration Reference"])])]),o("nuxt-link",{attrs:{to:"/introduction"}},["back to introduction page →"])])}h.isMDXComponent=!0,n.default={name:"Mdx",inject:{$mdxComponents:{default:function(){return function(){return{}}}}},computed:{components:function(){return this.$mdxComponents()}},render:function(e){return o=m.b.bind({createElement:e,components:this.components}),h({components:this.components})}}}}]);